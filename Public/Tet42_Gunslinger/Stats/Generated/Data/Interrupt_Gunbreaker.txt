new entry "GB_Countershot"
	type "InterruptData"
		data "DisplayName" "hc1764607e9664a119bb04b174f44d8a7eb73;1"
		data "Description" "hd7967660efeb4e9081058d0368fd7e847gc0;1"
		data "Icon" "Spell_Abjuration_Counterspell"
		data "InterruptContext" "OnSpellCast"
		data "InterruptContextScope" "Nearby"
		data "Container" "YesNoDecision"
		data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and CounterspellCheck(context.Observer, context.Source)"
		data "Roll" "TryCounterspellHigherLevel(3)"
		data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Deafening_Shot,true,true,true)"
		data "Failure" "UseSpell(OBSERVER_SOURCE,GS_MH_ATTACK,true,true,true)"
		data "Cost" "ReactionActionPoint:1;GB_Ammo_Mainhand:1"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "PreviewCursor" "Ranged"
		data "CastTextEvent" "Cast"
		data "SpellAnimation" "73afb4e5-8cfe-4479-95cf-16889597fee3,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,,;de006e3f-70fb-4eb7-a98d-d845d15b20e8,,;50696db7-d931-4734-915d-32d038ba99a5,,;6ec808e1-e128-44ef-9361-a713bf86de8f,,;,,;f920a0a6-f257-4ce4-8d17-2dcaa7bb7bbb,,;,,;,,"
		data "VerbalIntent" "Damage"
		data "WeaponTypes" "Melee"
		data "SpellFlags" "RangeIgnoreVerticalThreshold;IsHarmful;HasHighGroundRangeExtension;IgnoreSilence;IgnoreVisionBlock"
		data "HitAnimationType" "PhysicalDamage"
		data "SpellAnimationIntentType" "Aggressive"
		data "CastEffect" "8682067a-e523-40fb-b705-3112083b6b05"
		data "CastSound" "CrSpell_Cast_BurningAvarice"
		data "TargetSound" "Spell_Impact_Damage_Force_EldritchBlast_L1to3"
		data "SpellAnimationIntentType" "Aggressive"
		data "Sheathing" "Melee"

new entry "GB_Protection"
	type "InterruptData"
		data "DisplayName" "hcf68e0d1f5ab4b548bbb4db2a45e3bef86c2;1"
		data "Description" "h6bff67be699d4dfa82d9d685b556178fc590;1"
		data "DescriptionParams" "Distance(9)"
		data "Icon" "GS_MH_ATTACK"
		data "InterruptContext" "OnCastHit"
		data "InterruptContextScope" "Nearby"
		data "Container" "YesNoDecision"
		data "Conditions" "not Self(context.Target,context.Observer) and not Self(context.Source,context.Observer) and Ally(context.Target, context.Observer) and Enemy(context.Source, context.Observer) and not (IsCriticalMiss() or IsMiss()) and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and not AnyEntityIsItem()"
		data "Properties" "UseSpell(OBSERVER_SOURCE,GB_GrappleShot_Reaction,true,true,true);ApplyStatus(OBSERVER_TARGET,GUNSLINGER_PROTECTION_STATUS,100,0);IF(not SavingThrow(Ability.Wisdom, 14):ApplyStatus(COMPELLED_DUEL, 100, 2))"
		data "TooltipStatusApply" "ApplyStatus(COMPELLED_DUEL,100,2)"
		data "Cost" "ReactionActionPoint:1;GB_Ammo_Mainhand:1"
		data "InterruptDefaultValue" "Ask;Enabled"
		data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "PreviewCursor" "Ranged"
		data "CastTextEvent" "Cast"
		data "SpellAnimation" "73afb4e5-8cfe-4479-95cf-16889597fee3,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,,;de006e3f-70fb-4eb7-a98d-d845d15b20e8,,;50696db7-d931-4734-915d-32d038ba99a5,,;6ec808e1-e128-44ef-9361-a713bf86de8f,,;,,;f920a0a6-f257-4ce4-8d17-2dcaa7bb7bbb,,;,,;,,"
		data "VerbalIntent" "Damage"
		data "WeaponTypes" "Melee"
		data "SpellFlags" "RangeIgnoreVerticalThreshold;IsHarmful;HasHighGroundRangeExtension;IgnoreSilence;IgnoreVisionBlock"
		data "HitAnimationType" "PhysicalDamage"
		data "SpellAnimationIntentType" "Aggressive"
		data "CastEffect" "8682067a-e523-40fb-b705-3112083b6b05"
		data "CastSound" "CrSpell_Cast_BurningAvarice"
		data "TargetSound" "Spell_Impact_Damage_Force_EldritchBlast_L1to3"
		data "SpellAnimationIntentType" "Aggressive"
		data "Sheathing" "Melee"

new entry "GB_AttackOfOpportunity"
	type "InterruptData"
		data "SpellType" "Projectile"
	using "GB_MH_RANGED_ATTACK"
		data "DisplayName" "h86fc7417gba24g43e9gac8eg8c8ec44c3f83;1"
		data "Description" "h8783b69cge6fag434dgb326gbdbe95238b03;1"
		data "Icon" "GB_MH_ATTACK"
		data "InterruptContext" "OnLeaveAttackRange"
		data "InterruptContextScope" "Self"
		data "Container" "YesNoDecision"
		data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Observer, context.Target) and Enemy() and not HasStatus('SANCTUARY',context.Source) and not (not Player(context.Source) and Tagged('AI_IGNORED_TARGET')  and not HasStatus('GNOLL_SUDDENRUSH')) and not HasStatus('SHOCKWAVE') and not (HasStatus('MOBILE_NO_AOO', context.Source) and HasStatus('MOBILE_NO_AOO_SOURCE', context.Target)) and not HasStatus('FLAMING_SPHERE_AURA') and not HasStatus('SNEAKING',context.Target) and not HasStatus('SG_Ignore_AOO',context.Target)  and not AnyEntityIsItem() and not HasSpellFlag(SpellFlags.IgnoreAoO, context.Target) and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Target)"
		data "Properties" "UseSpell(OBSERVER_SOURCE,GB_MH_RANGED_ATTACK,true,true,true);ApplyStatus(OBSERVER_SOURCE,GS_CRIPPLED,100,2)"
		data "Cost" "ReactionActionPoint:1;GB_Ammo_Mainhand:1"
		data "InterruptDefaultValue" "Enabled"
		data "EnableCondition" "not HasStatus('SG_Blinded')"
		data "EnableContext" "OnStatusApplied;OnStatusRemoved"
		data "VerbalIntent" "Damage"
		data "WeaponTypes" "Melee"
		data "SpellFlags" "RangeIgnoreVerticalThreshold;IsHarmful;HasHighGroundRangeExtension;IgnoreSilence;IgnoreVisionBlock"
		data "HitAnimationType" "PhysicalDamage"
		data "SpellAnimationIntentType" "Aggressive"
		data "CastEffect" "8682067a-e523-40fb-b705-3112083b6b05"
		data "CastSound" "Spell_Cast_Damage_Force_EldritchBlast_L1to3"
		data "TargetSound" "Spell_Impact_Damage_Force_EldritchBlast_L1to3"
		data "SpellAnimationIntentType" "Aggressive"
		data "Sheathing" "Melee"